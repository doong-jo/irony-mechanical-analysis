(this["webpackJsonpr3f-svg-react-spring-transitions"]=this["webpackJsonpr3f-svg-react-spring-transitions"]||[]).push([[0],{42:function(e,t,n){e.exports=n(62)},47:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n(18),i=n.n(o),r=n(0),c=n.n(r),s=n(15),l=(n(47),[{name:"\uc5c4\ub9c8\uc57c \ub204\ub098\uc57c",sentences:[{content:"\uc5c4\ub9c8\uc57c \ub204\ub098\uc57c \uac15\ubcc0 \uc0b4\uc790",length:2e3},{content:"\ub730\uc5d0\ub294 \ubc18\uc9dd\uc774\ub294 \uae08\ubaa8\ub798\ube5b",length:4e3},{content:"\ub4b7\ubb38\ubc16\uc5d0\ub294 \uac08\uc78e\uc758 \ub178\ub798",length:6e3},{content:"\uc5c4\ub9c8\uc57c \ub204\ub098\uc57c \uac15\ubcc0 \uc0b4\uc790",length:8e3},{content:"\uc5c4\ub9c8\uc57c \ub204\ub098\uc57c \uac15\ubcc0 \uc0b4\uc790",length:2e3},{content:"\ub730\uc5d0\ub294 \ubc18\uc9dd\uc774\ub294 \uae08\ubaa8\ub798\ube5b",length:4e3},{content:"\ub4b7\ubb38\ubc16\uc5d0\ub294 \uac08\uc78e\uc758 \ub178\ub798",length:6e3},{content:"\uc5c4\ub9c8\uc57c \ub204\ub098\uc57c \uac15\ubcc0 \uc0b4\uc790",length:8e3}]},{name:"\uc12c\uc9d1\uc544\uae30",sentences:[{content:"\uc5c4\ub9c8\uac00 \uc12c\uadf8\ub298\uc5d0 \uad74\ub530\ub7ec\uac00\uba74",length:12e3},{content:"\uc544\uc774\ub294 \ud63c\uc790\ub0a8\uc544 \uc9d1\uc744\ubcf4\ub2e4\uac00",length:12e3},{content:"\ubc14\ub2e4\uac00 \ub4e4\ub824\uc8fc\ub294 \uc790\uc7a5\ub178\ub798\uc5d0",length:12e3},{content:"\ud314\ubca0\uace0 \uc2a4\ub974\ub974\ub974 \uc7a0\uc774\ub4ed\ub2c8\ub2e4.",length:12e3},{content:"\uc544\uae30\ub294 \uc7a0\uc744\uace4\ud788 \uc790\uace0\uc788\uc9c0\ub9cc",length:12e3},{content:"\uac08\ub9e4\uae30 \uc6b8\uc74c\uc18c\ub9ac \ub9d8\uc774\uc124\ub808\uc5b4",length:12e3},{content:"\ub2e4\ubabb\ucc2c \uad74\ubc14\uad6c\ub2c8 \uba38\ub9ac\uc5d0\uc774\uace0",length:12e3},{content:"\uc5c4\ub9c8\ub294 \uace0\uac2f\uae38\uc744 \ub2ec\ub824\uc635\ub2c8\ub2e4",length:12e3}]},{name:"\ubc18\uc9dd \ubc18\uc9dd \uc791\uc740\ubcc4",sentences:[{content:"\ubc18\uc9dd \ubc18\uc9dd \uc791\uc740 \ubcc4",length:4e3},{content:"\uc544\ub984\ub2f5\uac8c \ube44\uce58\ub124",length:4e3},{content:"\uc11c\ucabd \ud558\ub298\uc5d0\uc11c\ub3c4",length:4e3},{content:"\ub3d9\ucabd \ud558\ub298\uc5d0\uc11c\ub3c4",length:4e3},{content:"\ubc18\uc9dd \ubc18\uc9dd \uc791\uc740 \ubcc4",length:4e3},{content:"\uc544\ub984\ub2f5\uac8c \ube44\uce58\ub124",length:4e3}]},{name:"Feeling Good",sentences:[{content:"Birds flying high",length:3e3},{content:"You know how I feel",length:6e3},{content:"Sun in the sky",length:3e3},{content:"You know how I feel",length:6e3},{content:"Breeze driftin' on by",length:5e3},{content:"You know how I feel",length:3e3},{content:"It's a new dawn",length:3e3},{content:"It's a new day",length:2e3},{content:"It's a new life For me ",length:1e4},{content:"And I'm feeling good",length:9e3},{content:"Fish in the sea",length:3e3},{content:"You know how I feel",length:6e3},{content:"River running free",length:3e3},{content:"You know how I feel",length:6e3},{content:"Blossom on a tree",length:5e3},{content:"You know how I feel",length:3e3},{content:"It's a new dawn",length:3e3},{content:"It's a new day",length:2e3},{content:"It's a new life For me ",length:1e4},{content:"And I'm feeling good",length:8e3},{content:"Dragonfly out in the sun, you know what I mean, don't you know",length:6e3},{content:"Butterflies all havin' fun, you know what I mean",length:6e3},{content:"Sleep in peace when day is done, that's what I mean",length:6e3},{content:"And this old world is a new world",length:3e3},{content:"And a bold world For me",length:8e3},{content:"For me",length:4e3},{content:"Stars when you shine",length:3e3},{content:"You know how I feel",length:3e3},{content:"Scent of the pine",length:3e3},{content:"You know how I feel",length:3e3},{content:"Oh, freedom is mine",length:3e3},{content:"And I know how I feel",length:3e3},{content:"It's a new dawn",length:1500},{content:"It's a new day",length:1500},{content:"It's a new life",length:3e3},{content:"It's a new dawn",length:1500},{content:"It's a new day",length:1500},{content:"It's a new life",length:3e3},{content:"It's a new dawn",length:1500},{content:"It's a new day",length:1500},{content:"It's a new life",length:2e3},{content:"It's a new life",length:2e3},{content:"For me",length:2e3},{content:"And I'm feeling good",length:8e3},{content:"I'm feeling good",length:7e3},{content:"I'm feeling so good",length:5e3},{content:"I feel so good",length:1e4}]},{name:"Easy Life",sentences:[{content:"And when it rains, it rains",length:1e3},{content:"Orange juice and pink lemonade",length:2e3},{content:"In that 4 weeks she brings her A game",length:3e3},{content:"Is it any wonder why I've been feeling so fucked up?",length:5e3},{content:"And when it rains, it rains",length:3e3},{content:"Orange juice and pink lemonade",length:3e3},{content:"To Champagne tears falling heavy on my suede shoes",length:3e3},{content:"She left me feeling real fucked up",length:9e3},{content:"Sexy missionary from the east",length:2e3},{content:"She paints like Picasso when",length:3e3},{content:"And digs jazzy beats",length:1e3},{content:"Sips Guinness, Guru spinning on repeat",length:3e3},{content:"These minutes into hours",length:2e3},{content:"And these days into weeks",length:1e3},{content:"She stays pretty overthinking her speech",length:4e3},{content:"But there ain't nobody else that dare speak",length:3e3},{content:"Just don't mess with her parameter",length:2e3},{content:"Her old mans in her the mafia",length:2e3},{content:"You're a stone cold killer",length:1e3},{content:"These Englishmen are amateurs",length:4e3},{content:"And when it rains, it rains",length:2e3},{content:"Orange juice and pink lemonade",length:2e3},{content:"In that 4 weeks she brings her A game",length:4e3},{content:"Is it any wonder why I've been feeling so fucked up?",length:3e3},{content:"And when it rains, it rains",length:4e3},{content:"Orange juice and pink lemonade",length:2e3},{content:"To champange tears falling heavy on my suede shoes",length:4e3},{content:"She left me feeling real fucked up",length:4e3},{content:"La la la la la la la la la la la",length:4e3},{content:"La la la la la la la la la la la",length:4e3},{content:"La la la la la la la la la la la",length:4e3},{content:"Well, it could be better could be worse",length:3e3},{content:"This mediocrity is just the least I deserve",length:3e3},{content:"Because i've been putting in the work",length:3e3},{content:"But does a strong work ethic actually worth?",length:3e3},{content:"Sometimes I feel I'm selling seeds just to feed the birds",length:3e3},{content:"And these pearlescent pigeons come and scratch up my turf",length:3e3},{content:"But what's my better nature worth",length:3e3},{content:"Because I give a little something but get nothing in return",length:3e3},{content:"And when it rains, it rains",length:2e3},{content:"Orange juice and pink lemonade",length:2e3},{content:"In that 4 weeks she brings her A game",length:3e3},{content:"Is it any wonder why I've been feeling so fucked up?",length:5e3},{content:"And when it rains, it rains",length:2e3},{content:"Orange juice and pink lemonade",length:2e3},{content:"To champange tears falling heavy on my suede shoes",length:4e3},{content:"She left me feeling real fucked up",length:4e3},{content:"La la la la la la la la la la la",length:4e3},{content:"La la la la la la la la la la la",length:4e3},{content:"La la la la la la la la la la la",length:4e3}]}]),h=n(16),u=n.n(h),g=n(19),p=n(6),d=n(8),f=function(e){return"".concat("https://gcp-nlp-api-server.herokuapp.com","/api/gcp-lang/emotion?text=").concat(e)},m=function(e){return"".concat("https://gcp-nlp-api-server.herokuapp.com","/api/gcp-lang/entity?text=").concat(e)};function y(e,t){return w.apply(this,arguments)}function w(){return(w=Object(g.a)(u.a.mark((function e(t,n){var a,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=n,e.next="EMOTION"===e.t0?3:"ENTITY"===e.t0?7:11;break;case 3:return e.next=5,fetch(f(t));case 5:return a=e.sent,e.abrupt("break",12);case 7:return e.next=9,fetch(m(t));case 9:return a=e.sent,e.abrupt("break",12);case 11:return e.abrupt("return");case 12:return e.next=14,a.json();case 14:return o=e.sent,e.abrupt("return",o);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}console.log("https://gcp-nlp-api-server.herokuapp.com");var v={happy1:0,happy2:1,sad1:2,sad2:3,sad3:3,angry1:4,angry2:5,surprise1:6,surprise2:7,calm1:8,calm2:9,anticipated1:10,anticipated2:11},b=new(function(){function e(){Object(p.a)(this,e),this.pageDispatcher=null,this.charDispatcher=null,this.emotionDispatcher=null}return Object(d.a)(e,[{key:"setPageDispatcher",value:function(e){this.pageDispatcher=e}},{key:"setCharDispatcher",value:function(e){this.charDispatcher=e}},{key:"setEmotionDispatcher",value:function(e){this.emotionDispatcher=e}},{key:"setPage",value:function(e){if(this.pageDispatcher&&this.charDispatcher&&this.emotionDispatcher){var t=v[e];this.pageDispatcher(t),this.charDispatcher(e),this.emotionDispatcher(e)}}}]),e}());var I=new(function(){function e(){Object(p.a)(this,e),this.sentencesHand=0,this.playTimeout=null,this.songIndex=0,this.emotionsOfSongs={},this.subtitleDispatcher=null,this.playIndexDispatcher=null}return Object(d.a)(e,[{key:"setSubTitleDispatcher",value:function(e){this.subtitleDispatcher=e}},{key:"setPlayIndexDispatcher",value:function(e){this.playIndexDispatcher=e}},{key:"flattenSentences",value:function(e){return e.sentences.map((function(e){var t=e.content;return"".concat(t,". ")})).join("")}},{key:"researchEmotion",value:function(){var e=Object(g.a)(u.a.mark((function e(t){var n,a,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l[t].name,!this.emotionsOfSongs[n]){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,y(this.flattenSentences(l[t]),"EMOTION");case 5:a=e.sent,o=a.sentences,this.emotionsOfSongs[n]=o;case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"playIntervalCallback",value:function(){this.sentencesHand++,this.playInterval(this.songIndex)}},{key:"playInterval",value:function(e){var t=this;this.songIndex=e;var n=l[e],a=n.name,o=n.sentences;if(this.sentencesHand===o.length)return this.songIndex=(this.songIndex+1)%l.length,void this.play(this.songIndex);var i=o[this.sentencesHand],r=i.content,c=i.length,s=this.emotionsOfSongs[a][this.sentencesHand],h=function(e,t){return e>=.5?"".concat("happy",t>.1?"1":t>.2?"2":"3"):e>=.3?"".concat("surprise",t>.1?"1":"2"):e>0?"".concat("anticipated",t>.1?"1":"2"):e<=-.5?"".concat("angry",t>.1?"1":"2"):e<=-.3?"".concat("sad",t>.1?"1":"2"):e<=0?"".concat("calm",t>.1?"1":"2"):void 0}(s.score,s.magnitude);b.setPage(h),this.subtitleDispatcher&&this.subtitleDispatcher(r),this.playTimeout=setTimeout((function(){t.playIntervalCallback()}),c)}},{key:"play",value:function(){var e=Object(g.a)(u.a.mark((function e(){var t,n=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:0,this.sentencesHand=0,e.next=4,this.researchEmotion(t);case 4:this.playInterval(t),this.playIndexDispatcher(t);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"playByIndex",value:function(e){clearTimeout(this.playTimeout),this.play(e)}}]),e}()),k=n(4),x=(n(49),n(13)),O=n(14);function E(){var e=Object(x.a)(["\n  background: url(",");\n  width: 256px;\n  height: 256px;\n"]);return E=function(){return e},e}function j(){var e=Object(x.a)(["\n  position: fixed;\n  left: ",";\n  top: ",";\n"]);return j=function(){return e},e}var D=O.a.div(j(),(function(e){return e.position.left}),(function(e){return e.position.top}));O.a.div(E(),(function(e){return e.sprite}));var S=function(e){var t=e.position,n=Object(r.useState)(),a=Object(k.a)(n,2),o=a[0],i=a[1];return b.setCharDispatcher(i),console.log(o),c.a.createElement(D,{position:t},o&&c.a.createElement("img",{style:{transform:"translateY(-100px)",width:"200px",height:"300px"},src:"./images/char/".concat(o,".png")}))};function T(){var e=Object(x.a)(["\n  border-bottom: ",";\n  text-align: center;\n  padding: 4px;\n  margin-bottom: 10px;\n  font-size: 20px;\n  cursor: pointer;\n"]);return T=function(){return e},e}function A(){var e=Object(x.a)(["\n  position: fixed;\n  left: ",";\n  top: ",";\n  width: max-content;\n  height: 300px;\n  display: flex;\n  flex-direction: column;\n"]);return A=function(){return e},e}var B=O.a.div(A(),(function(e){return e.position.left}),(function(e){return e.position.top})),C=O.a.div(T(),(function(e){return e.currentPlayIndex?"2px solid #111":"2px solid transparent"}));var P=function(e){var t=e.currentPlayIndex,n=e.list,a=e.position,o=Object(r.useState)(t),i=Object(k.a)(o,2),s=i[0],l=i[1];return I.setPlayIndexDispatcher(l),c.a.createElement(B,{position:a},n.map((function(e,t){return c.a.createElement(C,{currentPlayIndex:t===s,key:"".concat(e,"_").concat(t),onClick:function(){I.playByIndex(t)}},e)})))},F=n(17);var Y=function(e){var t=e.shape,n=e.rotation,o=e.position,i=e.color,r=e.opacity,s=e.index;return c.a.createElement(F.a.mesh,{rotation:n,position:o.interpolate((function(e,t,n){return[e,t,n+50*-s]}))},c.a.createElement(F.a.meshPhongMaterial,{attach:"material",color:i,opacity:r,side:a.DoubleSide,depthWrite:!1,transparent:!0}),c.a.createElement("shapeBufferGeometry",{attach:"geometry",args:[t]}))},L=["#F6939D","#D8BA07","#3B535E","#1A3547","#BC322F","#CC2525","#3D45B8","#2A3275","#FCDFB9","#E59C9C","#6C7C49","#43705C"],M=n(38),W=n(40),H=["happy1","happy2","sad1","sad2","angry1","angry2","surprise1","surprise2","calm1","calm2","anticipated1","anticipated2"].map((function(e){return"./images/svg/".concat(e,".svg")})).map((function(e){return new Promise((function(t){return(new M.a).load(e,(function(e){var n=0,a=0;return t(Object(W.a)(e.paths.map((function(e){var t=e.userData.node.id;return void 0!==t&&t!==a&&(n++,a=t),e.toShapes(!0).map((function(t){return{shape:t,color:e.color,index:n}}))}))))}))}))}));var z=function(){var e=Object(r.useState)(0),t=Object(k.a)(e,2),n=t[0],o=t[1],i=Object(r.useState)([]),s=Object(k.a)(i,2),l=s[0],h=s[1];b.setPageDispatcher(o),Object(r.useEffect)((function(){H[n].then(h)}),[n]);var u=Object(F.b)({color:L[n]}).color,g=Object(F.c)(l,(function(e){return e.shape.uuid}),{from:{rotation:[0,-Math.PI/4,0],position:[0,50,-200],opacity:0},enter:{rotation:[0,0,0],position:[0,0,0],opacity:1},leave:{rotation:[0,.25,0],position:[0,-50,10],opacity:0},order:["leave","enter","update"],trail:5,lazy:!0});return c.a.createElement(c.a.Fragment,null,c.a.createElement("mesh",{scale:[2e4,2e4,1],rotation:[0,a.Math.degToRad(-20),0]},c.a.createElement("planeGeometry",{attach:"geometry",args:[1,1]}),c.a.createElement(F.a.meshPhongMaterial,{attach:"material",color:u,depthTest:!1})),c.a.createElement("group",{position:[1600,-700,n],rotation:[0,a.Math.degToRad(180),0]},g.map((function(e){var t=e.item,n=e.key,a=e.props;return c.a.createElement(Y,Object.assign({key:n},t,a))}))))};var G=function(){var e=Object(r.useState)(""),t=Object(k.a)(e,2),n=t[0],a=t[1];return I.setSubTitleDispatcher(a),c.a.createElement(s.b,{position:[2e3,-1900,100]},c.a.createElement("h1",null,n))};function R(){var e=Object(x.a)(["\n  position: fixed;\n  left: ",";\n  top: ",";\n"]);return R=function(){return e},e}function J(){var e=Object(x.a)(["\n  position: fixed;\n  left: ",";\n  top: ",";\n\n  color: black;\n  font-size: 24px;\n  font-weight: bold;\n\n  transform: rotate(",");\n"]);return J=function(){return e},e}var N=O.a.div(J(),(function(e){return e.position.left}),(function(e){return e.position.top}),(function(e){return e.rotation}));O.a.div(R(),(function(e){return e.position.left}),(function(e){return e.position.top}));var _=function(e){var t,n=e.position,a=Object(r.useState)(""),o=Object(k.a)(a,2),i=o[0],s=o[1];return b.setEmotionDispatcher(s),c.a.createElement("div",{style:{position:"fixed",left:n.left,top:n.top,transform:"translate(70px, -30px)"}},c.a.createElement(N,{position:n},c.a.createElement("img",{style:{width:"300px",height:"200px",transform:"translate(-130px, -100px)"},src:"./images/emotion/emotion-diagram.png",alt:"emotion-diagram"})),c.a.createElement(N,{rotation:(t=i,t.startsWith("happy")?"-90deg":t.startsWith("anticipated")?"-45deg":t.startsWith("calm")?"-20deg":t.startsWith("surprise")?"20deg":t.startsWith("sad")?"45deg":t.startsWith("angry")?"90deg":void console.log("0deg",t)),position:n},c.a.createElement("img",{style:{transformOrigin:"50% 100%",width:"50px",height:"100px"},src:"./images/emotion/needle.png",alt:"emotion-diagram"})))};i.a.render(c.a.createElement((function(){return I.play(),c.a.createElement(c.a.Fragment,null,c.a.createElement(s.a,{concurrent:!0,camera:{fov:80,position:[0,0,2e3],rotation:[0,a.Math.degToRad(-20),a.Math.degToRad(180)],near:.1,far:2e4}},c.a.createElement("ambientLight",{intensity:.1}),c.a.createElement("spotLight",{intensity:.5,position:[300,300,4e3]}),c.a.createElement(G,null),c.a.createElement(z,null)),c.a.createElement(P,{position:{left:"7%",top:"60%"},currentPlayIndex:0,list:l.map((function(e){return e.name}))}),c.a.createElement(S,{position:{left:"50%",top:"60%"}}),c.a.createElement(_,{position:{left:"7%",top:"43%"}}))}),null),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.e8be9253.chunk.js.map